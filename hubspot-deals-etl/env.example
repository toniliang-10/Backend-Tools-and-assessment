# ===========================================
# HubSpot Deals ETL - Environment Configuration
# ===========================================

# Flask Application
FLASK_ENV=development
FLASK_DEBUG=true
APP_VERSION=1.0.0
APP_TITLE=HubSpot Deals ETL Service
APP_DESCRIPTION=Service for extracting HubSpot deal data using DLT

# Server Configuration
HOST=0.0.0.0
PORT=5200
SECRET_KEY=change-this-in-production-to-a-secure-random-string

# ===========================================
# HubSpot API Configuration
# ===========================================
# Base URL for HubSpot CRM API
API_BASE_URL=https://api.hubapi.com

# API timeout in seconds
API_TIMEOUT=30

# Rate limit (requests per 10 seconds)
API_RATE_LIMIT=100

# Retry configuration
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=1

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
DB_HOST=postgres_dev
DB_PORT=5432
DB_NAME=hubspot_deals_data_dev
DB_USER=postgres
DB_PASSWORD=password123
DB_SCHEMA=hubspot_deals_dev

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ===========================================
# DLT Pipeline Configuration
# ===========================================
DLT_PIPELINE_NAME=hubspot_deals_pipeline_dev
DLT_WORKING_DIR=.dlt
DLT_RUNTIME_ENV=production

# ===========================================
# Extraction Service Configuration
# ===========================================
# Maximum number of concurrent extraction jobs
MAX_CONCURRENT_SCANS=5

# Scan timeout in hours
SCAN_TIMEOUT_HOURS=24

# Cleanup old scans after this many days
CLEANUP_DAYS=7

# Default batch size for API requests (1-100)
DEFAULT_BATCH_SIZE=100

# ===========================================
# Cache Configuration (Redis)
# ===========================================
CACHE_ENABLED=true
CACHE_TYPE=redis
REDIS_HOST=redis_dev
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
CACHE_DEFAULT_TIMEOUT=300

# ===========================================
# Logging Configuration
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S
LOG_FILE_PATH=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ===========================================
# Loki Logging (Optional)
# ===========================================
LOKI_ENABLED=false
LOKI_URL=http://localhost:3100
LOKI_USERNAME=
LOKI_PASSWORD=

# ===========================================
# Security & Encryption
# ===========================================
ENCRYPTION_ENABLED=true
CONFIG_PASSWORD=change-this-encryption-password-in-production
CONFIG_ENCRYPTION_ALGORITHM=SHA512

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ===========================================
# Rate Limiting
# ===========================================
RATELIMIT_ENABLED=true
RATELIMIT_DEFAULT=100 per hour

# ===========================================
# NOTES
# ===========================================
# 1. Never commit this file with actual credentials to version control
# 2. Copy this file to .env and fill in your actual values
# 3. HubSpot access tokens are provided per-scan in the API request, not here
# 4. For production, use strong SECRET_KEY and CONFIG_PASSWORD values

